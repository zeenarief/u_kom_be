paths:
  # === /classrooms ===
  /classrooms:
    get:
      tags: [Classroom]
      summary: "Get All Classrooms"
      description: "Mengambil daftar kelas, opsional filter by academic_year_id via query param."
      parameters:
        - name: academic_year_id
          in: query
          required: false
          schema: { type: string, format: uuid }
      responses:
        '200':
          description: "Berhasil mengambil data."
          content:
            application/json:
              schema:
                $ref: '../components/schemas/common.yaml#/schemas/SuccessResponseClassroomList'
        '401': { $ref: '../components/responses.yaml#/Unauthorized' }
        '403': { $ref: '../components/responses.yaml#/Forbidden' }
        '500': { $ref: '../components/responses.yaml#/InternalError' }

    post:
      tags: [Classroom]
      summary: "Create Classroom"
      description: "Membuat kelas baru."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '../components/schemas/classroom.yaml#/schemas/ClassroomCreateRequest'
      responses:
        '201':
          description: "Berhasil dibuat."
          content:
            application/json:
              schema:
                $ref: '../components/schemas/common.yaml#/schemas/SuccessResponseClassroomDetail'
        '400': { $ref: '../components/responses.yaml#/BadRequest' }
        '401': { $ref: '../components/responses.yaml#/Unauthorized' }
        '403': { $ref: '../components/responses.yaml#/Forbidden' }
        '500': { $ref: '../components/responses.yaml#/InternalError' }

  # === /classrooms/{id} ===
  /classrooms/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema: { type: string, format: uuid }

    get:
      tags: [Classroom]
      summary: "Get Classroom by ID"
      description: "Mengambil detail kelas."
      responses:
        '200':
          description: "Berhasil mengambil detail."
          content:
            application/json:
              schema:
                $ref: '../components/schemas/common.yaml#/schemas/SuccessResponseClassroomDetail'
        '401': { $ref: '../components/responses.yaml#/Unauthorized' }
        '403': { $ref: '../components/responses.yaml#/Forbidden' }
        '404': { $ref: '../components/responses.yaml#/NotFound' }
        '500': { $ref: '../components/responses.yaml#/InternalError' }

    put:
      tags: [Classroom]
      summary: "Update Classroom"
      description: "Mengupdate data kelas."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '../components/schemas/classroom.yaml#/schemas/ClassroomUpdateRequest'
      responses:
        '200':
          description: "Berhasil diupdate."
          content:
            application/json:
              schema:
                $ref: '../components/schemas/common.yaml#/schemas/SuccessResponseClassroomDetail'
        '400': { $ref: '../components/responses.yaml#/BadRequest' }
        '401': { $ref: '../components/responses.yaml#/Unauthorized' }
        '403': { $ref: '../components/responses.yaml#/Forbidden' }
        '404': { $ref: '../components/responses.yaml#/NotFound' }
        '500': { $ref: '../components/responses.yaml#/InternalError' }

    delete:
      tags: [Classroom]
      summary: "Delete Classroom"
      description: "Menghapus kelas."
      responses:
        '200':
          description: "Berhasil dihapus."
          content:
            application/json:
              schema:
                $ref: '../components/schemas/common.yaml#/schemas/SuccessResponseEmpty'
        '401': { $ref: '../components/responses.yaml#/Unauthorized' }
        '403': { $ref: '../components/responses.yaml#/Forbidden' }
        '404': { $ref: '../components/responses.yaml#/NotFound' }
        '500': { $ref: '../components/responses.yaml#/InternalError' }

  # === /classrooms/{id}/students ===
  /classrooms/{id}/students:
    parameters:
      - name: id
        in: path
        required: true
        schema: { type: string, format: uuid }
        description: "ID Kelas"
    post:
      tags: [Classroom]
      summary: "Add Students to Classroom"
      description: "Menambahkan siswa ke dalam kelas (bulk)."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '../components/schemas/classroom.yaml#/schemas/AddStudentsToClassRequest'
      responses:
        '200':
          description: "Berhasil ditambahkan."
          content:
            application/json:
              schema:
                $ref: '../components/schemas/common.yaml#/schemas/SuccessResponseEmpty'
        '400': { $ref: '../components/responses.yaml#/BadRequest' }
        '401': { $ref: '../components/responses.yaml#/Unauthorized' }
        '403': { $ref: '../components/responses.yaml#/Forbidden' }
        '404': { $ref: '../components/responses.yaml#/NotFound' }
        '500': { $ref: '../components/responses.yaml#/InternalError' }

  # === /classrooms/{id}/students/{studentId} ===
  /classrooms/{id}/students/{studentId}:
    parameters:
      - name: id
        in: path
        required: true
        schema: { type: string, format: uuid }
        description: "ID Kelas"
      - name: studentId
        in: path
        required: true
        schema: { type: string, format: uuid }
        description: "ID Siswa"
    delete:
      tags: [Classroom]
      summary: "Remove Student from Classroom"
      description: "Mengeluarkan siswa dari kelas."
      responses:
        '200':
          description: "Berhasil dikeluarkan."
          content:
            application/json:
              schema:
                $ref: '../components/schemas/common.yaml#/schemas/SuccessResponseEmpty'
        '401': { $ref: '../components/responses.yaml#/Unauthorized' }
        '403': { $ref: '../components/responses.yaml#/Forbidden' }
        '404': { $ref: '../components/responses.yaml#/NotFound' }
        '500': { $ref: '../components/responses.yaml#/InternalError' }
